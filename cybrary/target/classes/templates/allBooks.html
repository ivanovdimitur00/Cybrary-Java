<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="~{head::head}"/>
<div th:replace="~{nav::nav}"></div>
<body>
<div class="container">
  <div class="card my-2 mx-2">
    <h1 class="mx-2 display-4 flex-grow-1">
      Available Books
    </h1>
    <p class="my-2 mx-2 text-end">
      <a href="/addBook" class="btn btn-primary btn-lg">Create</a>
    </p>
    <div class="container-fluid">
      <form class="d-flex" th:action="@{/searchBooks}" method="get">
        <input class="form-control me-2" type="search" placeholder="Search Authors" aria-label="Search" name="keyword">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
    </div>
    <div class="card mx-2 my-2">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Title</th>
            <th>Author</th>
            <th>Publisher</th>
            <th>Year</th>
            <th>ISBN</th>
            <th>Resume</th>
            <th>Price</th>
            <th></th>
            <th></th>
         </tr>
        </thead>
        <tbody>
        <tr th:each="book: ${books}">
          <td th:text="${book.title}"></td>
          <td th:text="${book.author}"></td>
          <td th:text="${book.publisher}"></td>
          <td th:text="${book.year}"></td>
          <td th:text="${book.ISBN}"></td>
          <td th:text="${book.resume}"></td>
          <td th:text="${book.price}"></td>
          <td class="col-1">
            <div class="btn-group" role="group">
              <a th:href="@{/updateBook/{id}(id=${book.id})}" class="btn btn-warning">
                <span class="bi bi-pencil-fill"></span>
                Update
              </a>
            </div>
          </td>
          <td class="col-1">
            <div class="btn-group" role="group">
              <form th:action="@{/deleteBook/{id}(id=${book.id})}" method="post">
                <button type="submit" class="btn btn-danger">
                  <span class="bi bi-trash-fill"></span>
                  Delete
                </button>
              </form>
            </div>
          </td>

        </tr>
        </tbody>

      </table>
    </div>
  </div>
</div>
</body>
</html>